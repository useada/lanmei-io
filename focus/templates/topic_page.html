{% include "header.html" %}

<div class="container-fluid">
    <div class="col-sm-1"></div>

    <!-- Center Column -->
    <div class="col-sm-7">
        <!-- Topic -->
        <div class="row">
            <article class="col-xs-12">
                <h2>{{ topic.content }}</h2>
            </article>
        </div>

        <!-- Article -->
        <hr>
        {% for article in article_list %}
            <div class="row">
                <div class="col-xs-1">

                    <div>
                        <div class="btn-group-vertical" role="group" aria-label="...">
                            <button type="button" class="btn btn-default">
                                <div class="row">
                                    <div class="col-sm-12"><span class="glyphicon glyphicon-triangle-top" aria-hidden="true"style="color: rgb(64, 212, 64);"></span></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12"><span class="count">2418</span></div>
                                </div>
                            </button>
                            <button type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color: rgb(212, 106, 64);"></span>
                            </button>
                        </div>
                    </div>

                </div>

                <article class="col-xs-11">
                    <p>
                        <span class="h4">{{ article.author }}</span> <span>, {{ article.author.profile }}</span>
                    </p>
                    <div>{{ article.content | safe }}</div>
                    <p></p>

                    <div class="row">
                        {#                    <div class="col-xs-1"></div>#}
                        <div class="col-xs-12">

                            <!-- List-Group Panel -->
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <ul class="list-inline panel-title">
                                        <li><a href=" "><span class="glyphicon glyphicon-comment"></span> {{ article.comment_num }} 条评论</a></li>
{#                                        <li><a href="/focus/{{ article.id }}/keep/"><span class="glyphicon glyphicon-star-empty"></span>{{ article.keep_num }} 收藏</a></li>#}
{#                                        <li><a href="/focus/{{ article.id }}/poll/"><span class="glyphicon glyphicon-thumbs-up"></span>{{ article.poll_num }} 赞</a></li>#}

                                        {% if user.id == article.author_id %}
                                            <li><a href="/focus/del_article/{{ topic.id }}/{{ article.id }}/">删除文章</a></li>
                                        {% endif %}

                                    </ul>
                                </div>
                                <div class="list-group">
                                    {% for comment in article.comment_set.all %}
                                        <article class="list-group-item">
                                            {% if user.id == comment.author_id %}
                                            <div class="pull-right">
                                                <a href="/focus/del_comment/{{ topic.id }}/{{ article.id }}/{{ comment.id }}/">
                                                    删除
                                                </a>
                                            </div>
                                            {% endif %}
                                            <div><b>{{ article.author }}</b> <br> {{ comment.content | safe }}</div>
                                        </article>
                                    {% endfor %}

                                    <div class="list-group-item">
                                        <form action="/focus/add_comment/{{ topic.id }}/{{ article.id }}/" method="post">
                                            {% csrf_token %}
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="input-group">
                                                        <input name="content" type="text" class="form-control" placeholder="您的评论">
                                            <span class="input-group-btn">
                                            <button class="btn btn-default" type="submit">添加评论</button>
                                            </span>
                                                    </div><!-- /input-group -->
                                                </div><!-- /.col-xs-12 -->
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>

                            <nav>
                                <ul class="pagination">
                                    <li>
                                        <a class="disabled" href="#" aria-label="Previous">
                                            <span aria-hidden="true">上一页</span>
                                        </a>
                                    </li>
                                    <li><a class="active" href="#">1</a></li>
                                    <li><a href="#">2</a></li>
                                    <li><a href="#">3</a></li>
                                    <li><a href="#">4</a></li>
                                    <li><a href="#">5</a></li>
                                    <li>
                                        <a href="#" aria-label="Next">
                                            <span aria-hidden="true">下一页</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>

                        </div>
                    </div>

                </article>
            </div>
            <hr>
        {% endfor %}

        <!-- article submit -->
        <div class="row">
            <div class="col-xs-12">
                <span class="glyphicon glyphicon-user"></span> {{ user }}, 在这里, 写下您的故事吧
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <form action="/focus/add_article/{{ topic.id }}/" method="post">
                    {% csrf_token %}
                    {{ article_form.as_p }}
                    <div class="pull-right">
                        <input class="btn btn-primary" type="submit" value="发表" />
                    </div>
                </form>
            </div>
        </div>

        {% load staticfiles %}
        <link rel="stylesheet" type="text/css" href="{% static "simditor-2.3.6/styles/simditor.css" %}" />
        <script type="text/javascript" src="{% static "simditor-2.3.6/scripts/jquery.min.js" %}"></script>
        <script type="text/javascript" src="{% static "simditor-2.3.6/scripts/module.js" %}"></script>
        <script type="text/javascript" src="{% static "simditor-2.3.6/scripts/hotkeys.js" %}"></script>
        {#<script type="text/javascript" src="{% static "simditor-2.3.6/scripts/uploader.js" %}"></script>#}
        <script type="text/javascript" src="{% static "simditor-2.3.6/scripts/simditor.js" %}"></script>


        {#<textarea id="editor" placeholder="Balabala" autofocus></textarea>#}
        <script type="text/javascript">
            var editor = new Simditor({
                textarea: $('#editor')
                //optional options
            });
        </script>

    </div><!--/Center Column-->


    <!-- Right Column -->
    <div class="col-sm-3">
        {% if request.user.is_authenticated %}
            <!-- Form -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <span class="glyphicon glyphicon-user"></span>
                        Logged In
                    </h3>
                </div>
                <div class="panel-body">
                    <div class="form-group">hi:{{ user }} <a href="/focus/logout/"><input class="btn btn-default" type="submit" value="Logout" /></a></div>
                </div>
            </div>
        {% else %}
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <span class="glyphicon glyphicon-log-in"></span>
                        Log In
                    </h3>
                </div>
                <div class="panel-body">
                    <form action="/focus/login/" method="post">
                        {% csrf_token %}
                        {{ loginform.non_field_errors }}
                        <div class="form-group">
                            {{ loginform.uid }}

                        </div>
                        <div class="form-group">
                            {{ loginform.pwd }}

                        </div>
                        <button type="submit" class="btn btn-default">Log In</button>
                    </form>
                </div>
            </div>
        {% endif %}


        <!-- Progress Bars -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <span class="glyphicon glyphicon-tasks"></span>
                    Completeness
                </h3>
            </div>
            <div class="panel-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="100"
                         aria-valuemin="0" aria-valuemax="100" style="width:100%">
                        100% Django
                    </div>
                </div>
                <div class="progress">
                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="80"
                         aria-valuemin="0" aria-valuemax="100" style="width:80%">
                        80% Tornado
                    </div>
                </div>
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="45"
                         aria-valuemin="0" aria-valuemax="100" style="width:45%">
                        45% Crawler
                    </div>
                </div>
                <div class="progress">
                    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="35"
                         aria-valuemin="0" aria-valuemax="100" style="width:35%">
                        35% Basics
                    </div>
                </div>
            </div>
        </div>

        <!-- List-Group Panel -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h1 class="panel-title"><span class="glyphicon glyphicon-fire"></span> The Principles of Programmer </h1>
            </div>
            <div class="list-group">
                <a href=" " class="list-group-item">Embrace Change </a>
                <a href=" " class="list-group-item">KISS: Keep it simple, stupid!</a>
                <a href=" " class="list-group-item">Hide Implementation Details</a>
                <a href=" " class="list-group-item">LoD: Law of Demeter</a>
                <a href=" " class="list-group-item">DRY: Don't Repeat Youself</a>
            </div>
        </div>

        <!-- Text Panel -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h1 class="panel-title"><span class="glyphicon glyphicon-pencil"></span> Don’t repeat yourself</h1>
            </div>

            <div class="panel-body">
                <p>DRY is probably the single most fundamental tenet in programming is to avoid repetition. Many programming constructs exist solely for that purpose (e.g. loops, functions, classes, and more). As soon as you start repeating yourself (e.g. a long expression, a series of statements, same concept) create a new abstraction.</p>
                <p><button class="btn btn-default">Engage</button></p>
            </div>
        </div>

        <!-- Text Panel -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <span class="glyphicon glyphicon-bullhorn"></span>
                    Active Predomination
                </h3>
            </div>
            <div class="panel-body">
                <p>Proactively envisioned multimedia based expertise and cross-media growth strategies.</p>
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default">Resource</button>
                    <button type="button" class="btn btn-default">Envision</button>
                    <button type="button" class="btn btn-default">Niche</button>
                </div>
            </div>
        </div>

        <!-- advertisements -->
        <h3><span class="glyphicon glyphicon-link"></span> Advertisements</h3>
        <div id="side-carousel" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#side-carousel" data-slide-to="0" class="active"></li>
                <li data-target="#side-carousel" data-slide-to="1"></li>
                <li data-target="#side-carousel" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <a href=" ">
                        <img class="img-responsive" src="holder.js/400x300?bg=FF8C00&text=Image%201" alt="">
                    </a>
                    <div class="carousel-caption">
                        <h3>I am a genius</h3>
                        <p>Objectively innovate empowered manufactured products whereas parallel platforms.</p>
                    </div>
                </div>
                <div class="item">
                    <a href=" ">
                        <img class="img-responsive" src="holder.js/400x300?bg=FF8C00&text=Image%202" alt="">
                    </a>
                    <div class="carousel-caption">
                        <h3>You are an idiot</h3>
                        <p>Dramatically maintain clicks-and-mortar solutions without functional solutions.</p>
                    </div>
                </div>
                <div class="item">
                    <a href=" ">
                        <img class="img-responsive" src="holder.js/400x300?bg=FF8C00&text=Image%203" alt="">
                    </a>
                    <div class="carousel-caption">
                        <h3>Enough! </h3>
                        <p>Everyone shut up and listen to me.</p>
                    </div>
                </div>
            </div>
            <a class="left carousel-control" href="#side-carousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#side-carousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

    </div><!--/Right Column -->

    <div class="col-sm-1"></div>
</div><!--/container-fluid-->


{#<div id="epiceditor"></div>#}
{#{% load staticfiles %}#}
{#<script src="{% static "epiceditor/js/epiceditor.min.js" %}"></script>#}
{#<script language="javascript">#}
{#    var editor = new EpicEditor({basePath: '{% static "epiceditor" %}'}).load();#}
{#</script>#}



{% include "footer.html" %}